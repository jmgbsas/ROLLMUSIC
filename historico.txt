- 25-09-2025 0.337 FIX movia ademas del off1 de un ON en zona , a todo otro off1 que halla hasta el final
- 24-09-2025 copiar un grupo de notas N veces despues o antes del fin de cecuencia
- 09-09-2025 copiar una nota 2.4 de ayuda. En CTRL-N pues solo ahi se inserta notas nuevas
  en espacios vacios. Se presiona enter sobre una nota hasta que aparece ONOFF=2 o e vea que
  el curos se movio, luego en otro sito se presiona CTRL_ENTER hasta que aparesca la copia
  se puede repetir en otros lugares. Para resetear y copiar otra nota se pulsa Q. 
- 06-09-2025 Mover zona se perfecciono mueve los off de los on dentro de la  zona y no mueve
  los off cuyos on estan fuera de la zona elegida. Se repuso Guardar como.Para volver al menu principal
  en Roll grafico basta pasar el mouse por encima de la cinta de arriba del menu en su parte derecha
  sin necesidad de dar click cosa que la hacia muy lenta, 0.335
- 20-08-2025 GrabarRoll dejaba el archivo vacio al usarlo fuera del entorno Grafico de Roll
  fix para PATCH tanto en menu principal como en boton PATH de lista de tracks, usaos esa lista
  en bañncopara cambiar patch tambien de un Roll unico en ntk=0
- 16-08-2025 0.332 Aviso de MIDI-OUT INEXISTENTE ajuste a 1 y otros.
  Al cargar archivos en otro dispositivo que tenga pocos port de salida al dar play cancelaba.
  cargar ROLL solo muestra los .roll evita cancelaciones si se carga un .rtk
- 14-08-2025 Fix Cifrado vuelve a  verse dando click en la octava. Pulsar GRABAR se pone verde para 
  confirmar que  se termino de grabar. finales de nota de >> a > , final de secuencia se borra a ingresar
  notas igulas, permanecia el || en cada nota igual. (veremos si separamos mas eñ fimal > de una nota
  de lco,iiemzo de otra nueva )
- 13-08-2025 timeout de 10 seg cierre de venanita de eleccion de construccion de acorde en modo lectura
- 13-08-2025 Se agregaron armado de mas acordes en LEctura y el Nro de acorde en la nota elegida
  que por ahora se puede  ver en Ctrlm junto a onoff=2 Acor=5
- 29-07-2025 0.329 POSICIONAR CURSOR EN UNA POSICION DANDO CLICK IZQ DEL MOUSE EN CTRL-M YCTR-N,
     SE AGREGARON MAS ACORDES EN LECTURA(FALTAN MAS), TRASPONER 1 o MAS NOTAS CON MOUSE EN LECTURA
   SIN TENER QUE SELECCIONAR ZONAS. ALT-T LUEGO ALT + CLICK IZQUIERDO SONRE LA NOTA A MOVER 
   SE PUEDE SEGUIR ELIGIENDO MAS NOTAS SE ESCUCHARAN LAS NOTAS CONFIRMANDO SU CORRECTA SELECCION,
   FINALMENTE SE DA CLICK EN UN LUGAR VACIO MAS ARRIBA OAABAJO EN DONDE SE MOVERA TODO. LUEGO
   SE ESCUCHARAN LAS NOTAS MOVIDAS.
  Fix En Roll Grafico Seleccion MidiOut y CANALES.
  
- 24-07-2025 0.328 Funciona Crea Triadas cuya nota elegida es Tonica, 3era, 4ta, 5ta,6ta, 7ma y 9na 
   Sin invertir o con 1era inversion. 
   para menores y traiadas  de 4 notas solo funciona que sea Tonica y win invertir.

- 10-07-2025 0.327 Fix de insercion de acordes en modo Lectura para Triada Mayor y Menor
- 17-07-2025 0.326 insertar notas en Ctrl-N con menu contextual grafico
- 08-07-2025 insert de una nota con apertura de secuencia, o sea la secuencia se abre en el espacio
  ocupadoo por la nueva nota , no es modificar un espacio vacio con una nota nueva eso ya lo hacia.
- 31-05-2025 varios fix a 0.323
- 30-05-2025 0.323 borrado de un intervalo de secuencia
- 29-05-2025 0.322 REVISION DE COLORES DE EDICION Y ALGUNOS COMANDOS DE EDICION 2) 2.1.1 2.1.2
  COLORES DE LINEA COMPLETOS REPOSICION.
  ADAPTACION A TICKS SE AAGREGA ONOFF EN ALGUNOS COMANDOS faltan mas comandos
- 18-05-2025 Eliminamos dibujar el menu durante el play , arrastrar la ventana o cerrarla sigue
  funcionando no depende del menu.
  Durante el play o ejecucion de una secuencia se apaga el menu para mas espacio visual y
  menor trabajo de dibujo o sea cpu. Si quiero ver el menu pulsar Mayuscula izquierda + M
  al pulsar  de nuevo deja de verse el menu. Con ALT+M se vera siempre el menu.
 Si quiero ver los parametros de Roll Shift+V

- 14-05-2025 0.320 InputBoxJmg basado en windows9 acepta tecla Return o Intro o Enter para cerrar
  el dialogo ademas de click ok...
- 11-05-2025 0.319 saltamos de nota en nota con (Mayuscula izquierda) + flechas der o izquierda
- 08-05-2025 0.318 TICKS 0.318 CTRL-N fix es como CTRL-M pero las notas son por nombre CDEFGAB "
  318 FUNCIONAN NOTAS CON PUNTILLO PROBADO, Y EL RESTO TRESILLO ETC SUPONGO TAMBIEN  SE PROBARA.
- 03-05-2025 0.317 : en CTRL-M al pasar de octava elegida y modificada a otra octava
  elegida ingresaba la ultima modificacion de la octava anterior se corrigio
  se agrego cambiadur= 1 And octavaEdicion=estoyEnOctava
  Se volvio a corregir el borrado del off=1 al cambiar la duracion de una nota
  El programa se encarga de buscar la nota ON mas cercana barriendo en horizontal -10 +10 ticks
  y en vertical -1 +1 en semitonos. de modo que no es necesario estar tratando de darle justo a la nota
  mirando si su onoff=2
- 01-05-2025 0.316 fix borrado de notas incluye a onoff corregido.  
- 29-04-2025 0.315 corregido MIDIFICAR NOTAS NO SE BORRABA EL OFF=1 ANTERIOR
  El cursor en edicion para modificar permanece en el semitono ultimo donde se 
  modifico, puedo cambiar por distints duraciones de notas sin pulsar X
  con el primero basta y sin usar Ctrl-M para ubicar el cursor si voy a otra nota
  no hara falta tampoco pulsar x solo la duracion y la nota modificara su duracion.
  Se agregaron teclas rápidas ALT-M para mostrar el menu inicial y ALT-E para ir
  a la previa de edicion mostrando los parametros.
  Error detectado a corregir si se introducen notas nuevas en acorde por ejemplo
  y luego se las borra, las notas desapareceran y en MODO CURSOR no se veran sus 
  parametros como RollDur y el nro de  semitono RollNota. Pero las notas permaneces
  y al tocar con play suenan,,podria quedar sus valores en la zona de arriba de acordes.
- 27-04-1015 Seleccion por Zonas, Trasponer 
- 16-04-2025 Algunas Constantes para eliminar el hardcodeo
- 10-04-2025 pmTk se separo en 2 pmTk para tracks y pmEj para ejecuciones,, se corrigio la terminacion
  del programa y la ventana grafica, de la ventana grafica se sale con la X derecha arriba de lgrafico
  detiene el play si esta andando y cierra el grafico no termina el programa,, si se desea terminar el
  programa se usa tecla escape si esta tocando pide pulsar de nuevo escape. Y de laventanad e control
  se sale con su X o salir del menu de archivo tambien si esta tocanco detiene el play y sale,,
  puede pasar que al cerrar y abrir el grafico ya no funcione el ESC par terminar el programa pero
  se puede usar las terminaciones de la ventana de control...(mas pruebas ? posiblemente)
- 07-04-2025 0.310 sinc playcancion, ejecuciones se convierten todas con un solo click sin pasar por rollgrafico
  En el menu puertos ejecucion, el item
    6.0 Convertir todas las ejecuciones *.ejec seleccionadas para que toquen columna [S] a *.rtk y los grabe a disco")
- 02-04-2025 0.309 playcancion sincronizados faltan pruebas con ejec cargado. curdir em folders-
  terminacion del programa sin errores mas ajustes.
- 01-04-2025 0.308 PLAYcANCION YA FUNCIONA FALTA SINCROCINAR LOS BOTONES Y TECLAS DE PLAY Y STOP
- 31-03-2025 se corrigio la terminacion de Rollmusic con o sin grafico de todas las 3 formas posibles sin errores. Con escape en el Grafico, con la X de la ventana de control y con Salir del menu de archivos. La conversion de una ejec a rtk pasando por la carga en el grafico a roll por memoria y luego grabando como rtk (ROLL=RTK) a archivo, anda bien mantiene el patch y el tiempopatron.

- 30-03-2025 play de una sola pista se compacto ya no usa vectores auxiliares;
  en ejecuciones convertidas a roll se usa el volumen de cada nota tal cual se ejecuto;
  en roll manual y solo en 4/4 como antes (falta el resto) se ajusto tiempos fuertes y debiles
  en rangos de negra o sea 96 ticks. Al iniciar de nuevo un grafico se ajusta la posicion como en
  el inicio. Se guarda y recupera el tiempoPatron usado por el usuario a archivo rtk  y roll.
- 28-03-2025 correccion de cargatrack si no hay cancion es siempre nro track ntk=0
  recorrer todo verticalmente y despues enviar notas on off esta por verse podriamos 
  eliminarlo y a medida que recorremos verticalmente el vector enviamos los noteon y .
  Usamos volumen de las ejecuciones si la secuencia viene  de una conversion desde ejec.
  si no usamos la prefabricada.(mas adelante permitiremos corregis o cambiar  estos volumenes
  genericamente para todos los compases o en algunos en particular)
- 26-03-2025  todos los Roll covertidos de un grupo de ejec deben tener la misma longitud
- 23-03-2025 TICKS 0.305 lineas de compas y velocidad de navegacion, correcciones
- 20-03-2025 TICKS 0.304 sacar o poner notas guia. teclas H y K respectivamente
- 19-03-2025 RollMusic Con Ticks primera etapa se va adaptando las funciones
  se puede insertas notas manualmente y modificarlas en Ctrl-M.
  Traspone funciona para toda la secuencia, falta verificar por zonas,
  Acordes funciona lo que funcionaba antes, que todavia esta incompleto.
  Algo de performance, se puede ajustar la separacion de notas en el grafico
  La pantalla del grafico se cierra sin cerrar el programa algo ya agregado
  a la ultima version de RollMusic sin Ticks. Ya se puede pasar una ejecucion
  midi real a pantalla grafica desde un archivo *.ejec. la opcion esta habilitada
  Solo se carga la ejec o el directorio de ejec. Luego se selecciona una sola
  ejecucion se abre el Roll Grafico y se ejecuta la opcion del menu
  Las notas se marcan como " N " no hay cuantizacion todavia es un Roll exacto
  de la ejecucion como todos los Roll que existen solo se usa esta representacion
  " N    >>" donde N es el comienzo y >> la finalizacion de la nota.
  En Ctrl-M se podra ver la indicacion onoff, onoff=2 sera el on o comienzo de la nota
  y onoff=1 la finalizacion. 

- 10-03-2025 Ultima Version 0.4900 incompleta sin Ticks... se abandona
  Varios intentos de representar en roll grafico las secuencias ejecutadas
  o en vivo. Se complica mucho sin linea de tiempo.. se abandona esta linea
  de desarrollo. Lentamente se esta pasando a linea de tiempo o sea con ticks.
  a partir de Version 0.5000, que es la TICKS 0.300.
- 06-03-2025 Se puede trasponer toda la secuencia de ticks  
- 01-03-2025 seguimos pruebas de play con ticks convertir ejec a Roll colocamos una N en 
  las notaas pues no sabemos la duracion  
- 08-02-2025 test de play con ticks ,anda bien cargamos las duraciones desde teclado
  figuras de letras, Funcion DurxTicks ayuda a pasar de duracion a ticks por cada duracion de nota
- 17-10-2024 al introducir grabacion de patrones, se perdio la grabacion de ejecuciones
  corregido, portsal, patch y canal de pistas de la derecha corregido.
  Observacion a corregir: si cambio el patch para reproducir una pista, al tocar
  el midi-in por teclado externo pierde el patch y larga un sonido como pajarito silbando
  debo chequear G deschequear S y volver a seleccionar el patch y asi funionan ambas cosas
  con el mismo patch o sea la reproduccion de lo grabado y el tocar el teclado externo
  para acompañar..fijarse porque ..(antes midi-in era fijo tocaba siempre el piano ahora no)
<<<asi funcionaba la grabacion en el año 2022 junio ante de tener botones de portsal y abrir port out port in
1) CHEQUEAR UNA ENTRADA  G PARA GRABACION
3) SELECCIONAR EN DISPOSITIVOS PUERTOS MIDI-IN MIDI-OUT EN MENU DISPOSITIVOS
3) DEFINIR PORTSAL PATCH CANAL SELECCIONANDO AUNQUE ESTE BIEN O VACIO, CON LOS BOTONES ARRIBA DERECHA
4) ABRIR MIDI IN EN MENU REPRODUCIR
5) PULSAR GRABAR BOTON ROJO, PIDE UN TEXTO EL NOMBRE
   EMPIEZA LOS 4 TICKS ANTES DE LA GRABACION, LUEGO LOS TICK DE CADA PASO
6) TOCAR EL TECLADO MIDI EXTERNO
7) DETENER GRABACION BOTON NEGRO
8) CHEQUEAR S Y DESCHEQUEAR G EN LA PISTA ELEGIDA DE LA LISTA  DE LA DERCHA
9) REPRODUCIR LOGRABADO CON BOTON VERDE 
>>>> ahora pide nombre en el punto 1) al chequear una pista G.
           en punto 3) si la x seleccionada esta bien no hace falta hacer nada pulsar
      cerrar ventana no hace flata seleccionar y pulsar cambia, si se modifica seleccionar
  lo nuevo y pulsar cambia.
  En 5) no hay ticks de cada paso ... reponerlos
  El resto igual..
  ahora en esta version repuse los tick iniciales al pulsar el botn rojo de grabar
  elimine el metrono debo ver de reponerlo obedeciendo al menu de metronomo si se quiere
  tenerlo o no. 
- 22-09-2024 La carga de un midi plano txt generado por Rollmusic es bastante
  aproximada, pero en el caso de un plano externo es muy inexacto. Se abandona
  por ahora la conversion del sistema Ticks ampliamente usado al de duraciones
  como el usada en esta aplicacion es muy compleja y engorrosa. La opcion
  solo serviria para cargar las notas y luego modificarlas para reconstruir la 
  secuencia.. no se si es mas facil reconstruir o entrar desde cero.
- 18-09-2024 cambio a licencia GPL para la version actual y siguientes.
- 17-09-2024 mejoras en carga de un archivo plano midi generado por RollMusic.
- 24-07-2024 casi perfecto cargar midi plano(rollmusic)! seguir version 0.4627
- 12-06-2024 correcciones dejo de grabar. corregido. canales en roll grafico
  pantalla negra en algunas ocasiones (corrijo algo y revienta por otro lado  
  eso por tener varias versiones al mismo tiempo esta es la 0.4626 hay otras...).
  AutoFracTodoDur no anda bien no se si vale la pena poner mas esfuerzos,,
  pasaria a cambiar todo con ticks o linea de tiempo.,..
- 30-04-2024 CARGAR UN MIDI. 1ER METODO LOS QUE EN EL ENCABEZADO
  EL NUMERO DE TICKS POR CUARTO DE NOTA O NEGRA,, ES COMUN 192.
  LUEGO LOS INCREMENTOS DE TICKS DARAN LAS DURACIONES DE LAS NOTAS.-
  ESTOY TRATANDO DE BORRAR LAS EJECUCIONES SEGUIR CON ESA BOLUDES  
- 29-04-2024 se guardo TEMPO en archivos Roll y Rtk. TEMPO fallaba en
  roll grafico y el menu desaparecia al clickear COMPAS.
  Se agrego acentos en divisiones y subdiviciones de 2/4 3/4 4/4 6/8 y 12/8
  se ajusto el tempo en exportar a Midi.Se corrigio canales de Roll, la
  falta de sonido aleatoriamente al cambiar de  tempo, el plano midi
  para roll ya incluye el tempo y el NOMBRE DEL dispositivo MIDI OUT.
  (proximo paso ver si anda con cancion lo mismo, se guir verificando cada
   funcion....) 
-26-04-2024 Repuse el metronomo para grabar MIDI solo los 4 pulsos de arranque
 No logro cambiar el tempo de las grabaciones ejec por teclado sin roll,, 
 el TickPlay es indistinto si está en cero o un valor enorme,, y la duracion se 
 puede comentar sin efecto alguno en PlayTocaAll...se deja por ahora,,,
-24-04-2023 ya se puede repetir  cargar, exportar a midi, y volver a empezar sin salir del programa
 ya sea pista o cancion. V 0.4618
-23-04-2024 se arreglo nombre de Seg en plano txt de midi
 agregamos un archivo parametro inicio.txt en directorio de ejecuciones 
 que recuerde que pista estaba sonando y cual muteada.
 Se puede renombrar una pista cargada de ejecuciones, para ello solo dejar
 sonando o chequeada esa pista usar el menu archivo 5.2 y luego grabar con 5.0
 Ejecuciones se puede ncargar y volver a cargar una y otra vez ya se arreglo.
-22-04-2024 V 0.4617 exportar cancion ok con 4.5 previo cargar una cancion.
 se agrego un "." al final del nombre de la cancion para que sea compatible
 con un nombre xxxx.rtk , hasta que se cambie rollutil....
-20-04-2024 v 0.4616, menu archivo 4.0 y 4.3 corregidos, al grabar cancion se recomienda
 volver a cargarla por ahora ,sino a veces cancela se cae por crash con algunas
 opciones de ejecucion..(se arregla algo revienta por otro lado ja, hace falta
 organizar mas el codigo y para metrizar mas o estructurar... de a poco, 
 sino se está haciendo engorrosa la correccion.. to be continue)
-18-04-2024 4.1 4.2 y 4.3 anda mejor, 
-17 abril se probó  cambiar patch en una pista de cancion en la lista de pista
 chequeandola. Anda bien, tambien se habia probado cambiar patch en roll grafico
 para ello uso el menu crear pistas manuales y luego cambia instrumentos por alfa..
 anda bien. punto 4.0 del menu archivo anda bien --,,,verificar 4.1 4.2 y 4.3 
-15-04-2024 cargararchivo y grabar archivo para roll ya  se reviso, se reviso 
 las demas rollatrack trackaroll rolltempatracktemp Tracks... etc
 NO USAR EN NOMBRE DE CARPETAS NI ARCHIVOS EL SIGNO MENOS "-" COMO SEPARADOR
 SE PUEDE USAR GUION BAJO "_", sino corta el nombre y no lo procesa.
-14-04-2024 ROLLSUB.BI EL PATCH NO SE GRABABA NI CARGABA BIEN ESTAMOS REVISANDO..
 ' ver la carga tambien SEGUIR!!!!
              graba3(1,1).nota= pmTk(ntk).patch ' 14-04-2024
-13-04-2024 0.4615 mix de versiones, se tomó lo mejor de cada una en las que anden bien
  las partes,se recupero que unapista de una cancion pueda reproducirse con ctrl mas click
  en menu Reproducir del Roll Grafico, con su patch igual que solo chequear en la lista
  y dar play en boton verde de la izquierda. PEr oentre el patch de ambas reproducciones
  suele deiferir, y el update del patch lo hacemos en roll grafico, no se si esta
  correcto porque en Roll Grafico es un roll y Track(0) en la que ambos son copia
  de un Track de 1 a..n.Al grabar la pisat en Roll con el comand ode arriba Archivo->
  Ctrl GRabar..hay que verificar que este grabando el Track(0) sobre el Track (n)
  correspondiente,.,,
- 09-04-2024 SE EXPORTA EL PATCH AL MIDI PLANO, SI SE EDITA UNA PISTA 
  DE UNA CANCION, SIN CARGAR LA CANCION SE DEBE ELIMINAR AL PRINCIPIO
  DEL NOMBRE LOS CORCHETES Y EL NUMERO [4]NNNNNN.TRK -> NNNNNN.TRK 
- 08-04-2024 exportar a archivo midi con un utilitario midicomp listo
  deja el archivo midi con el nombre de la pista. Ver 0.4600.
  Ver 0.4610 correccion salida midi por cambio de tempo
- 05-04-2024 descarga a txt secuenciasPLAY.txt de una pista a midi en formato
  texto para convertirlo luego a un archivo.mid con TXTTOMIDI.BAT, que ejecuta
  el utilitario opne source midicomp.exe el cual lo compile en el 2022
  desde su fuente en github.
- 01-04-2024 correcciones varias sobre cancelaciones debido a modificaciones
  anteriores
- 29-03-2024 0.4586 correcciones fix Roll grafico independiente cancela en el play.
  Comienzo de salida a midi usando texto y midicomp.exe, la forma mas rapida y practica
  (interna algun dia se  hara o nunca las librerias no explican sus parametros)  
- 22-03-2024 0.4585 CORRECCIONES, batch, click en nombre archivo roll o rtk
  vuelve a ejecutar y cargar archivos en un roll grafico, batch-cancion.bat
  ejecuta un batch de una cancion. vuelven a cerrarse todo al cerrar Ventana
  Control incluso los graficos independientes como antes, ayuda de
  tempos clasicos solo una imagen no hay todavia automatico.
- 12-03-2024 0.4583 ORGANIZACION DE CODIGO MODULOS E INCLUDES ESTRUCTURACION
- 08-03-2024 VERSION 0.4582 contextual TERMINADO 
  FUNCIONA ASI: DAR CLICK EN UNA PISTA LUEGO CON flecha arriba
  y abajo CAMBIA DE PISTA EN ROLL, para habilitar el  CLICK DERECHO CONTEXTUAL
  DAR ENTER LUEGO  DE ELEGIR CON CLICK IZQUIERDO LA PISTA Y LUEGO CLICK DERECHO
  APARECE EL MENU CONTEXTIUAL, PARA VOLVER AL INICIO DAR CLICK IZQUIERDO EN
  OTRA PISTA Y TODO COMIENZA DE NUEVO... 
- 07-03-2024 AGREGAMOS ROLLCTRLSUB ...porque rollsub ya es muy grande, separamos
  las rutinas, estructuramos y despues parametrizaremos sacando lo mas 
  posible las globales chicas pero las grandes quedaran globales o algo asi
  depende de si se pasan por referencia o valor....menu contextual ok, pero
  no es funcional no se agrego ninguna funcion todavia...
  Rollmusic,ini si no existe lo crea..
- 06-03-2024 ya tengo menu popup contextual en lista de pìstas de cancion
  estos menus popup contextual lo podremos usar en muchos lados,
  primero se da click izquierdo para seleccionar la lista de Pistas y luego click
  derecho , no se porque funciona asi porque WM_RBUTTONDOWN selecciona tambien
  la lista, debe ser porque eventgadget se fija en el click izquierdo
  del mouse entonces no hay seleccion de la ventna de la lista si no
  se da primero click izquierdo , y luego al dar click derecho ya estamos
  con la lista seleccionada ,,,,ufff retorcida la cosa pero lo descubri..
  Si se da click izquierdo y no derecho luego no se puede cerrar Rollmusic
  desde menu pero si desde el boton de ventana de cierre o desde Roll Grafico
  con escape o boton rojo de cierre..
  LA tool de Rusia se basa en click izquierdo esa es mi conclusion..
- 05-03-3024 arreglos del meu principal ventana control, habilitar deshabilitar
  opciones de cara de Roll grafico. Consumo cpu eñevadp se aumento retardos 
  de nuevo en loops de Ventana Control y RollLoop..Queda probar Grabacion y ejecucion
  midi por ajustar variable repro=0 en play cancion al final... pensando
  que afectaba el consumo cpupornocerrar los ports en algunas condiciones de play
  cancion,,, ¿deberia cerrarlo siempre como antes? queda la duda probar...
  Algun dia debo probar todas las funciones de Rollmusic ...mucho laburo..
  por eso sera alfa por mucho tiempo.....por mas que avance lo viejo no se
  si anda bien ya no lo usé ni se como anda,,,bugs debe haber seguro 
  otra cosa eso del clickeo virtual del mouse LEFTDOWN y LEFTUP
  lo comenté no se si afectará ahora...No documente porque lo puse
  es para que permanesca en pantalla o ejecute lo pedido no estoy seguro
  no lo comente en el codigo,,,
- 04-03-2024
  Ya Podiamos cargar una cancion sin Roll, y ahora cargar el Roll grafico
  mediante comando batch y ver toda la cancion eschcuarla entera o por partes
  en un Roll grafico externo, el cual  se puede cerrar sin que se cierre
  la ventana de control, arreglo de menu archivo
- PATCH Y PORTSAL EN VENTANA CTRL corregido... a veces cancela al
  cerrar la ventana Ctrl desde la X superior derecha,,,,
- 28-feb-a 1-mar. Ya cargamos cancion sin roll grafico y lo ejecutamos
  Y se puede levantar roll grafico despues, por si se desea verlo
  o modificarlo,, pero una vez abierto no lo  puedo cerrar por ahora 
  Screenres cierra com 0,0,0,0 como argumeto
  en un programa aislado pero la superficie de cairo no la puedo destruir
  queda una ventana negra que no la `puedo eliminar...seguire intentando 
  ufff...
- 26-27-FEB-2024 - VERSION ANTERIOR NO TIENE EL PROBLEMA DE SOLAPAMIENTO
  de la ventana de seleccion de port sal...chequeando!NO SEPUEDE USAR MAS
  DE UN BOTON A LA VEZ O NO SE COMO SE HACE,,todas las selecciones se hacen con un boton
  y cancela cerrando la ventana.
- 25 feb 2024- probe IUP tampoco sirve no sepuede hacer vectores dinamicos
  par recorrer con datos de una lista y si defefinem em un scope con VAR
  no los ve en otro la mezcla de freebasic con iup es una bosta,
  aunque tuve4 que definir un nro estatico fijo de port de salida
  al menos FLTK permite avanzar veremos, sino seguiremos buscando otras GUI 
  o terminare usando forms de windows a lo cual me resisto..(fbgui, glwf etc)
- 18-02-2024 ERROR: al cargar una cancion y luego tratar de cambiar un port
  o solo verlo con selport boton portsal, luego de hacerlo y cargar ora cancion
  la lisbox permanece con los valores anteriores y si eran blancos por usar
  selport sin inguna cancion, al cargar una cancon sigue en blanco
  parece que listview no encontre la forma que no afecte a la listbox
  de la ventana principal,,probe de todo, me canse y la solucion parece
  usar FLTK. , podria usar una consola pero igual cancela por ya tener 
  usa pantalla grafica screenres que no permite que haya otra o sino deberia
  hacerce una libreria *.dll y no tengo ganas,,,,intentamos hacer una listview
  o listbox con check box para mostrar los ports y el usuario lo seleccione.
  (comienzo de uso de FLTK!) 
-14-02-2024 PENDIENTE:en Rollmusic Ctrl la ventana de Control los parametros de cancion
 su seleccion port patch canal no estan terminados por eso no funcionan bien
 terminarlos..Tratar de lograr se lo hizo por un instante de que funcione
 la carga de cancion sin necesidad de levantar el grafico de Roll y podercargar 
 canciones y escucharlas sin modificarlas ni tener el editor Roll grafico
 funcionanado...!! Lo logre por un momento pero lo perdi porque no funcionaba 
 otra parte y cambie y lo perdi no supe bien que es loque lo hizo funcionar,ja

-13-02-2024 correcciones agregar boton cancela en selecciones de parametros
-12-02-2024 hice compialacion sin debug para enviar un ejecutable tipo release
-21-06-2022 se graba una ejec con un roll cargado..es inestable...hace falta mas pruebas.
 la pista nueva ejecutada se escucha bien con el instrumento elegido.
-12-06-2022 arrastre de ventana desde cinta perfecto.- Comienso de Syncronizacion cancion y ejec.
  la sincro funciona solo que todavia no graba el archivo de ejec si hay una cancion o roll cargado,,,
-09-06-2022 Habilitar metronomo para grabar ejecuciones por teclado sin entorno grafico. (Boton Rojo)
-08-06-2022 control sobre listoutCreado(), listinCreado () 0.4566. Cargar ejecuciones desde
 Cargar pistas MIDI-IN tenia varios errores. Modificacion se puede seleccionar portsal,patch o canal
 teniendo un nombre de pista nuevo al apretar grabar ROJO y seleccionado por su puesto, pero
 sin necesidad de seleccionar 'S' o sea portsal,patch y canal se peuden cambiar con 'S' o 'G' chequeados
 Se corrigio NombreCancion para este caso agregaba unabarra al final "\" al no entrar por Directorio
de cancion. (falta mas pruebas supongo)
-07-06-2022 no se puede enviar un patch a traves de un cable midi interno como LoopBe Internal MIDI 
 se anula esa posibilidad en PlayTocaAll sino se bloquea la salida del LoopBe Internal MIDI.
 Si hubiese otros cables midi internos se deberia agregar ...
-07-06-2022 correccion portout note off de mycallback entrada teclado, portsal ejec por menu
-07-06-2022 MENU-DISPOSITIVOS. ABRE CIERRA MIDI-OUT. Conesta version altocar teclado en una pista seleccionada
de ejecucion se escuchara el patch selecciondo abriendo el MIDI-IN en menu Reproducir midi-in. PArapasar a otro
1erose cierra elmidi-in seleccionado,se deseleciona, se selecciona otra pista y se vuelve abrir el midi-in.
Por hora tocamos en una pista por vez desde midi-in. directorio de cancion 05-05-2022 es una prueba de ejecuciones
con el port 0 en CoolSfot VirtualMidiSynthcon SF2 FluidR3_GM.SF2 se usa pista 1 y 2 patch 27 y el 3 con 43 creo un cello.
-14-05-2022 Ya enuna Ejec una misma pista se puede ir cambiando al port que se desee,,,los va abriendo y dejando
abiertos pero nunca los vuelve a abrir si estan abiertos. Empezamos el menu Dispositivos, para manejar 
Midi-In Midi-out. Ojo si los abro manualmente por este menu deberia haber una pista en edicion si se desea que los
valores se graben en la pista. O sea con una pista nueva conviene abrir los ports desde el Boton [PorSal]. De esa forma
se graba en el archivos de la pista el valor del PorSal usado. Tambiense grabara  si luego al crear la pista asigno ports
con ese mismo boton..pero si no se hace no se graba nada en el archivo.
-13-05-2022 Correccion SelcanalEjec , Selcanal ,SelInstodenNum..etc. Pista Roll y Ejec pueden tocar juntas,lo que pasa
 es que cuando termina alguna de ellas cierra el portSal y envia SoundOff y corta todo...para que cooxitan no deben
 hacerlo si esta ejecutando el PlayAll o PlayCancion o PlayTocaAll...solo cuando terminen todas las que esten tocando
 se enviara el cierre del port y el soundOff...Me parece que no voy a cerrar mas los ports que se abrieron..
 O sea cuando se abre un PortSal por cualquier causa no se cierra mas,salvo cierre expreso del usuario, ocarga de una cancion
diferente o pista diferente,creo que deberia agregar como todos lo hacen un menu para abrir ports y cerrar a gusto,,,
Pero durante la carga de un archivo de ejec o Roll o otra  cancion los ports se deben abrir automaticamente,,,,
-12-05-2022 allSoundOff agregado al final del play de ejecuciones
-11-05-2022 ya se peude seleccionar patch en las pistas de ejecucion de teclado,probado,portodispositivo tambien
 pero no esta probado...ando con menor tiempo estos updates seran cada semana mas o menso
-03-05-2022 0.4561 borra listBox de ejecuciones al cargar,asi podemos cargar varias seguidas...
-01-05-2022 ver 0.4560 MIDI-IN guardar ejecuciones por teclado a archivo y poder recuperrarlas
-12-04-2022 MIDI-IN grabacion desde teclado en la edicion manual de ROLL. Metrónomo
para guia de ritmo. 
-03-04-2022 [2da etapa] MIDI-IN PORT=0 GRABACION EN VARIAS PISTAS, GRABACION ESCUCHANDO LO GRABADO ANTERIORMENTE
 OK.
-30-03-2022 [1er etapa] MIDI-IN SIN LEVANTAR ROLL Grafico, habilitar entrada por teclado del sonido default
 del port default. En mi caso Virtualsynth Acoustic piano,,,se puede tocar el teclado y oir su salida.
 Ya tenemos MIDI-IN..2D ETAPA,,,empezar a llevar lso datos a un track de ejecucion ,,,,
-26-03-2022 Botones Parar y Tocar (negro y verde) de cancion habilitados. Parar tambien detiene pista aislada.
 terminado lo basico para seguir con MIDI Input.
-26-03-2022 FrontEnd: Con mspaint dibuje bmp y los usaré para controlar [ parar grabar y ejecutar]
-25-03-2022 Se habilito entradas midi de input y su seleccion.(se preparó los vectores, comienza el desarrollo
 de grabar la ejecucion real por teclado y luego reproducirla en paralelo a las pistas midi manual o
pasar una performance real cuantificada a una pista manual...tiempo de desarrollo ..to be continued,,,
-24-04-2022 Fix mover ventana de Roll estaba nuevamente inestable se ajusto para un movimiento mas acorde,
-23-03-2022 Se puede usar uan sola pista con repeticiones y toda al cancion hara las repeticiones
probado con pista 1 pero podria estar la repeticion en cualqueir pista...
Se setea igual que con una pista sola. Tambien responde bien a un loop infinito
solo o con una repeticion interna al loop. se detiene siemrep con P se elimina
el loop infinito con Q como siempre. (habia varios errores de grabacion por maxpos ntk etc), se esperan mas test
-19-03-2022 Loop infinito para una pista aislada con repeticiones internas al loop.
-19-03-2022 Repeticiones de N veces de un grupo de compases en pista aislada tipo Roll
-18-03-2022 seleccion de octavas se oculta octava de control y se usa convencion
 comenzando en 0, en vez de la menos usada comenznado en -1 
-16-03-2022 Fix Reproducir dejo de funcionar en Control
-16-03-2022 Fix marcar sonido no viene al frente.
-16-03-2022 Traer Editor Roll al frente luego de usar el menu.
-16-03-2022 Cancion Grabamos en archivos *.rtk el estado del sonido on/off..
-15-03-2022 fix, en cancion comenzaba a grabar en posicion 2 porque (0,181) se colocaba con MaxPos=2 tambien
-14-03-2022 llave 'S' todo o nada, fix para otros estados, con una sola llave hace todo
-14-03-2022 v4533 boton 'S' llave conmuta de suena todo a mute todo. 
-12-03-2022 checkbox para cada pista para darle sonido sin el check cadapista esta muteado
-11-03-2022 fix play de cancion cargada 2 veces,,,fix 
-10-03-2022 pierde los patch en cancion pendiente,,,,falso
-09-03-2022 fix carga archivo con datos de acorde, crash. Fix cargar un directorio de cancion equivocado
 y luego con el correcto crash. Fix Cargar de nuevo el mismo directorio.
-07-03-2022 2da etapa mas fix crash cancion, mas estable, falta ver la edicion de parametro scanal midi patch etc
 y al edicion de notas en cada pista aprece que no empiezan en posicion correcta,,,
-06-03-2022 fix carga de archivo ssin cancion cancelaba
-05-03-2022 1era etapa fix erroes de edicion de Tracks en Cancion, siguen las pruebas
-01-03-2022 FIX seleccion de pista con click en control.
-26-02-2022 Selcanal sea selecciona y deselecciona con x. Primero hay que borar
 la x que exista luego colocar la x en la seleccion deseada. Solo funciona si 
 elultimo cambio fue una x por eso se debe borrar 1ero y luego marcar.
-25-02-2022 mas correciones a SelCanal, SelPort y Selintr..a partir de ahroa se haran varios test
 par aver si sigue funcionando todas las cosas echas desde el inicio...copiar insertar etc
 -23-02-2022 estabilidad en Selcanal y Selport, indicacion de lo que habia seleccionado previamente.
 Archvo [Nuevo] se selecciona Con ALT, para no chocar con Ctrl Click para [CANALES].Correccion patch
 en PlayAll. Seleccion de intrumentos Alfa corregido. Todavia no se logra marcar lo seleccionado,
 se ve al volver a cargar la seleccion de cualquier tipo de seleccion.(replace no se entiende...) 
-22-02-2022 cancion 11-18-2021-FIXED, Se editaron las pistas y se procedio manualmente en Ctrl-M
 a corregir sobre todo la pista nro 2. Con eso anda bien con arcordes iguales.
 Siguiente paso ayuda automatica durante la insercion de notas dentro de una estructura
 de acordes automaticos. [pendiente]
-22-02-2022 se analizó el caso de falla anterior estaba mal escrito, para que el caso 
 sea considerado acordes iguales, debe estar bien encuadrado en un rectangulo lleno, no puede
 haber espacios vacios, se rellenan con silencios ligados o no ligados.
 Se debe poner silencios ligados o no ya lo veremos en otro test.
 Se cambió los silencios por otros simbolos para mejor visualizacion
 sO->@, sP->%, sI->&, sL->/, sF->//, sE->{, sX->{{, sH->#, sW->##
 Paso siguiente será tratar de ingresar silencios automaticamente a la izquierda
 dentro de un acorde de iguales a medida que se introducen notas en Ctrl-M y
 tambien a derecha. PAra ello hay que detectar que la intencion del usuario es
 hacer un acorde de iguales.Para ello 1) debe haber en una linea 2 o mas notas ligadas
 de la misma duracion.2) se este introduciento en ctrl-m notas de la misma duracion
 en las columnas donde existe notas que cumplan la condicion 1).
 
-20-02-2022 se logro que en cancion se reproduscan 3 pistas, si los
 ports (o dispositivos) son diferentes para cada pista funciona bien en general.
 Si 2 pistas usan el mismo port pero diferente canal y patch, algunas notas
 ligadas terminan antes y tocan la ultima y no se oye la siguientes a la ligadura.
 No se si se podrá corregir. Trabaja como si fuera un acorde gigante de N pistas
 donde cada acorde tendra notas iguales o diferentes de sistintas pistas, canales
 y patch, el patch se tira antes del play por canal y port y pista.
 El problema creo es qu eel algoritmo estaba preparado para un solo port
 un solo canal en todo un acorde,,,veremos o sino hasta aca llegamos y se intentara
 con threads ¿un thread por pista? ¿32 thread sincronizados? nunca hice veremos.
-20-02-2022 deberia usar un thread para cada pista y coordenarlas para
que todas toquen al mismo tiempo tal pez coordinadas por Jply
-19-02-2022 se intento de muchas formas ubicar la apertura de los ports, pero 
siemrpe da warning
abriendo ports....
midiout        0            LoopBe Internal MIDI 0
abro          LoopBe Internal MIDI 0
RTMIDI_ERROR_WARNING         0
midiout        2            VirtualMIDISynth #1 2
abro          VirtualMIDISynth #1 2
RTMIDI_ERROR_WARNING         0
En un programa aislado solo con la libreria rtmido no da ningun error y abro 2 ports,,,
(que interfiere¿?...zas), si uso solo un port tambien da error de warnig
no es por usar mas de un port...
-18-02-2022 varia smodificaciones:
 play de cancion funciona con un solo porta y varios canales en cada pista.
 O un port diferente en cada pista. osea se puede elegir una compbiancion de
 <port, canal y patch para una pista dada.>
 Sea rreglaron varios defectos como el parpadeo al terminar una ejecucion de una
 melodia (sync producia eso con  cairo).
 Se cambio el algorimto para manejar ports cargarlos grabarlos y cambiarlos
 tanto en pista aislada como cancion. Se agrego Fraccionar en pista de 
 cancion..etc etc.
-13-02-2022 no guarda bien el port ni el canal en lso archivo sde track aparentemente
 verificar porque sino solo anda si manualmente pongo un port  default
 y yo quiero abrir mas de un port ,,,,,
-12-02-2022 PlayCancion, usando un solo port toca cada pista en su canal midi ajustado
 pudiendo usar un intrumento por canal en los sinthe que ajustan canal a instrumento.
 Se ajsuto scroll horizontal durante el play de cancion no saltaba al llegar al final de pantalla
 Se corrigio en Cancion al entrar en Edit TRUE no podia volver a Edit FALSE lectura.
-08-02-2022 Se graba y se carga la inforamcion de dispositivo midi usado y el canal MIDI
-08-02-2022 se desarrollo 1era parte poder cambiar el port o dispositivo reproductor de MIDI-OUT en
una misma sesion y funciona bien, paso siguiente a ver es colocar port distintos en pistas distintas
ademas de canales...vovado a ayuda.
-07-02-2022 estado ESTUDIO DE LIBRERIA PARA LEER Y ESCRIBIR MIDIFILE,   probé y grabé
logre hacer el ejemplo en c en freebasic melodias acordes, pero trate con  notas ligadas pero es 
medio dificultoso s elogra pero no del todo y no se puede en varios casos,,,pendiente
cual camino seguir falta mas investigacion,,,
otra coas es que que solo escribe hasta fusa le agregue semifusa y garrapatea pero no las reconoce 
la libreria midilib , pero tampoco parece que casi no se usa ...pendiente...me queda duda de si 
algunso programas pueden importar una semifusa,,,,
C:\IT64\AREAWORKAUX\RtMidiC-MIDIFILE\FreeBasic
-06-02-2022 Fix nota bemol o sotenido en cifrados D/F# o D/Gb
-06-02-2022 encolumnamos los campos de inforamcion en el encabezado Compas, Factor, (Negra=60)I=60, 
 Canal Midi, Escala. (Es un Bosquejo para poder cambiarlos en el futuro con el mouse o teclado 
 seleccionandolo. O sea esto seria similar a un ToolBar que muestran y pueden modificar parametros, 
 Hay mucho espacio puede haber muchos controles y a la vista. El Paneo sera util y Volumen de la pista...)s
-05-02-2022 Seleccion de canal y grabacion en archivo del Nro de Canal en Bloque 3 graba3(1,1) ok
 para archivo roll y rtk y manejo en cancion.(grabaremos dispositivo midi usado ¿?)
Esta echo falta probar: en cancion y conversiones ...Lo qu evoy hacer tambien sera ajustar el 
Volumen de cada nota en una octava dada dibujando una curva pero sobre cada octava de ese 
movo tendre volumen ajustado por octava en una pista en edicion. Tambien podre hacer eso con el 
paneo...Volumen y paneo de cada nota de una octava...Pitch bend tambien algun dia .,,,todo se puede
pero demanda tiempo...zas!
-05-02-2022 Se anula en menu la vuelta a menu inicial menunew=0 por molesto si se queria volver a usar 
 el mismo menu habia que volver a recorrer todo, anulado.
-04-02-2022 fix al ingresar notas en Edit el pantalleo no estaba en funcion del cambio de tamaño
se uso NroCol que ahora es dinamico.
-04-02-2022 1er paso para cambio de canal es cambiar el formato del archivo con mas capacidad. 
 1ero Cambiamos grabacion, luego conversion lectura al viejo formato y grabacion al nuevo,,luego 
cambiamos codigo lectura y ya está completo toda la conversion al nuevo formato.
-04-02-2022 CAMBIO DE CANAL, EN ESPECIAL CANAL 10 DRUMS SELECCION DE CANAL PARA LA PISTA O TRACK 
 para ello necesitamos mas bloques en el comienzo del archivo como grabaPos o grabaLim. colocaremos
varios bloques para futura informacion.Cada bloque de 'dat' tiene 6 campos ubyte.Agregaremos info de canal
de nro midi out,nro midi in,tipo de compas,etc.Para esto agregamso 2 bloque adicionales,graba3 y graba4.

-03-02-2022 fix estabilidad para entrar en Edicion, pulsar [Edicion] luego Edit y la edicion quedara estable con
un solo click. Para salir de edicion dar otro click en Edit. Ya no se podra entrar mas a Edit, para ellos
pulsar en la mitad derecha de la cinta aparece el menu y empezar de nuevo desde [Edicion].
-03-02-2022 fix  si uso trasponer sobre un acorde automatico ya no se pierde la info de Cifrado.Logicamente
solo tienen sentido en la octava que se agrego el cifrado.
 en las lineas invidibles donde se graba habria que no tocar la info y ademas ir aumentando o disminuyendo el 
valro de la nota a medida que trasponemos,,,,,
-03-02-2022 FIX <multikey(SC_CONTROL) AND SC_T> SE DISPARABA SOLO Y ME PONIA TRASPONER EN 1 LUEGO DE 
PULSAR SC_CONTROL AND WHEEL (lockip). Parece hay una zona de superposicion que cambia el buffer,
ergo para trasponer deje de usar CONTROL pase a usar ALT y todo anda bien,,,,INEXPLICABLE LOS ERRORES
DE DETECCION DE TECLADO SERA POR EL USO DE CAIRO? O FREEBASIC ERROR¿? EN FIN ME HaCE PERDER TIEMPO ..
tambien pasaba si usaba screenevent con hexadecimnal 80..LA DETECCION DE TECLADO ES PROBLEMATICA EN FREEBASIC
ME TIENE cansado ja, VOY A TENER QUE USAR MAS LA TECLA ALT Y/O ALTERNAR CON CONTROL...
-02-02-2022 Seguimos con C/x ...para escala C ya funiona!, pase a escala mayor G no anda corregir el algoritmo
 ejemplo usado en G -> 8-I-C-D.roll
 fix trasponer andaba cuando no sele pedia... con flechas arriba abajo raro...
-01-02-2022 SE PASO NA to NA-13 en algunos donde haga falta...y pendiente hay que ver todos los move e insert
 de datos si movemos algo que tiene controle se debe mover tambien los otros campos ademas de dur y nota
 o sea vol, pb, inst etc...pendiente pendiente....(movedato, moveresto por ejemplo) o sea estoy movimientos
si debe incluir hasta NA completo pero ademas faltaria mover mas datos de control por ejemplo.
OJO YA CAMBIE NA POR NA-13 EN TODO RECALCOMPAS DE NUEVO 
-30-01-2022  Seguimos con C/x ....(ver si recalcompas podemos limitar NA-13 porque no andubo bien 
 pero deberia andar,,,no debe barrar desde NA-13 to NA no hace falta...)
-30-01-2022 se redujo el ancho del cursor de 3/4 a 1/4 delacnhco de la figura-
-30-01-2022 FIX:se arreglo trasponerRoll para pasozona1 y 2, se reubico el comando por eso dejo de andar. 
 SE CORRIGIO trasponer con ALT+click que pone nota=13..ya anda y tambien traspone en todas las octavas.
-30-01-2022 se empezo a poner la nota x en cifrado C/x en las inversiones esta a medio camino, pero saltó que no
funcionaba ningun trasponer, 
-30-01-2022 El undo para copiar tambien se hace con Alt-U por columna con cada pulso.
-30-01-2022 Fixed:Copiar una zona antes de MaxPos N veces corregido empezaba por 2da posicion desde la 1era de la zona.
Test se copio 500 veces IIIIII-500-veces-ACORDEDE2-AF+F+F+F-OK-MALPLAY-REVISAR.roll
se genero la version rtk
IIIIII-500-veces-ACORDEDE2-AF+F+F+F-OK-MALPLAY-REVISAR.rtk
Se paso a UBYTE desde integer los ticks de poli de ese modo *.rtk ahora es unpoco menor a *.roll
pero tiene mas datos el ticks de cada duracion de notas, con eso se podra reconstruir la secuencia en ticks.
-29-01-2022 RecalCompas fixed. 
-29-01-2022 vuelta atras con modi por recalcompas to NA-13 produce mal barrido. se debera buscar otra la razon
 de la falla de recalcompas en ciertos casos. Se pensó seria el tomar lso valores de control de cifrado de acorde
 y escalas como valores a procesar por recalcompas, puede ser pero ademas hay algo mas que se debe encontrar que
 afecta al barrido....fixed en vez de cortar el barrido por encima de los controles no se lso procesa
      For i= NB To NA  ' 29-01-2022 vuelta atras 
      If Roll.trk(j,i).pb = 202 Or Roll.trk(j,i).pb=201 Or Roll.trk(j,i).dur=200 Then
         Continue for
      EndIf

-29-01-2022 se recrearon *.rtk, para ello en una version anterior se agrego rtk a roll como nuevo menu
 tambien en la version actual. Con la version vieja(25 de mi control) se paso a roll y con la version nueva
se paso de roll a track. Nuevo en menu Archivo->"Grabar una pista rtk a roll TrackaRoll".
Los archivos rtk que tenian su archivo roll se los borro y recupero grabando de nuevo como rtk.
-29-01-2022 Se corrigio barrido de recalcompas hasta NA-13 (no marcaba bien)
 se probo en cancion agregar cifrado de acorde grabar a los rtk y volver a cargar funciona ok.

-[27-01-2022] Se agrego una octava mas a los archivos *.rtk se verificaron  las rutinas de conversion
 transformacion trak a roll y viceversa guardar todo lo de escalas y acordes en track y poder pasarlos a Roll
 y viceversa.Todos los archivos actuales de rtk no servirán más hay que borrarlos todos y rehacer probando
 el nuevo formato y las conversiones, o cargarlos con la version anterior del programa y grabarlos como *.roll.
 Grabar y cargar Roll con escalas y acordes anda ok, rollaTrack de menu al cargar el track [00]
 recupèra bien las escala y cifrados de acorde de track a Roll ok.(falta ver que pasa en cancion)

-[27-02-2022] Se volvio a usar otro Thread para dibujar la pantalla (lo eliminaba para debug)
 Se agrego la sub 'barrePenta' para que en un llamado al nuevo thread barra todas las octavas.
-26-01-2022 Acordes 6 y Sus2
-26-01-2022 Borrar cifrado de acorde al borrar acorde...con ALT-Backspace, pulsar 1ero Backspace o retroceso
 luego pulsar ALT. ok
-26-01-2022 Se minimizo interferencia entre lso comandos Ctrl-click derecho acordes, y Ctrl+variables 
 para interlineado.(como ctrl es comun conviene pulsarlo despues o bien simultaneo con la otra accion )ok
-26-01-2022 Fix Superposicion escalas y cifrado de acorde.Ej ok 8-I-C.roll ok
-26-01-2022 Colocar Recordatorio. un acorde con sexta no es lo mismo qu eun acorde de sexta
   1er caso es una tension CEG, la sexta es A. Pero en la musica clasica acorde de sexta 6 
   es para la 1era inversion!!!(teoria de mierda no se ponen de acuerdo ja) Ergo un acorde de sexta
   es tanto la 1er inversion como la tension, o sea CEGA entre C y A hay una sexta. PEro en EGC
   la distancia entre E y C tambien es una sexta ambos tienen razón. O sea la 1er inversion es un caso
   Particular de acorde de sexta, siempre y cuando la 3era sea el sonido mas grave aun si se repiten notas.
-25-01-2022 fix modificacion RollMusic.ini, habia valores que no guardaba al modificacion font y nanchofig
 8-I-C.roll archivo ejemplo para esto y para cifrado de acordes.
-25-01-2022 se acomodó PlayAll para que no toque la octava que no se usa (NB to NA -13)
-25-01-2022 guardar nombre o cifrado del acorde solo en la octava en uso , funciona ok para 'No Inversion' 
  en PlayAll, solo se ve  el cifrado del acorde si se pasa el mouse por encima de la octava 
  (a mi me gusta asi no se, podra cambiar en el futuro.. ), falta las inversiones y mas acordes....
  y las otras bases o grados (qu ela nota origen sea una 3era 5 7 9 11 no se si vale la pena hacerlas, lo comun
  es que la nota de la melodia sea la mas aguda generalmente se usa 1era inverison... y la repeticion de la 
  fundamnetal 1 octava mas abajo)
-24-01-2022 fix escalas auxiliares y alternativas estaban dentro de la info de notas...
-21-01-2022 S3=0 debe estar para cancioncargada  sino empieza el titileo del grafico.
lo condicione con cancioncargada para que este siempre con cancion cargada...veremos..en prueba...
-20-01-2022 dar un click al cargar archivos o pistas...
-20-01-2022 Comandos de borrado de notas o columna en modo cursor no funcioan bien, se han comentado en Ayuda
 mejor usar para borrado de columna la opcion en el modo lectura y para nota en modo cursor pulsar 9 luego X. 
(Todos los comandos habria que revisarlos uno por uno con mas detalle algun dia.....) 
Fix Se mejoró la posicion del cursor al entrar notas en modo EDIT y luego pasar al modo lectura, antes iba siempre 
al final de la secuencia noviendose el resto. Mejoró  no del todo pero ahora recuerda la posicion de lectura anterior,
antes de la edicion no exacta pero proxima. (se agregó para ello, un nuevo estado(2) para S3 (0,1,2) asi ahora es un 
proceso de 3 pasos.Pero S3=0 debe estar para cancioncargada  sino empieza el titileo creo del grafico.
lo condicione con cancioncargada para que este siempre con cancion cargada...veremos..
Fix La posicion de lectura empezaba desde 2 por el arreglo anterior, se corrigió es donde la posicion si debe valer 0,
y no 1 como en el resto.  
-20-01-2022 undo de hasta 500 acordes. Por ahora se borra de a uno con ALT-BACKSPACE hacia atras pero no hay rehacer.
    se agregaron acordes Menor7b5,Dom7,Dom75a,Dis7, todos fundamental 1era, 2da y 3era inversion para cuatriadas.
-16-01-2022 evitamos crash en la carga de *.rtk en rol si se cancela el dialogo
-16-01-2022 se ajusto mejor en el play el movimiento de las marcas [] durante el play
-16-01-2022 eliminacion de retardos que bajan performance, en el grafico y en el Play
-16-01-2022 error de play cancion crash fixed, al pulsar la key inicio o home se posicionaba en posicion=0
 y eso daba crash por fuera de indice debe ser siemrep posicion=1 en algunos casos podria ser posicion=0
 hay que verfificar lso casos...
-16-01-2022 se paso a Mousebuttons and 1  la key para [Edicion], y PARA borrar desde una posicion hasta el final
 conl ALT y posarse sobre MAxPos
- 16-01-2022 se corrigio al cargar Cancion que muestre automaticamente la 1er pista.
  Hay un error esporadico al usar mucho el TAB ejecutando play para cada pista y/o play de la cancion,
  luego en un momento hay un crash ..error pendiente, alguan psita podria estar defectuosa por ser version vieja
  o veremos....pendiente...
-15-01-2022 elimino GtkListBox ,sigh_button_event,sigh_print_selection de GTK no lo uso no me gusto
-15-01-2022 RollaTrack y GrabarRollaTrack usan la misma sub RollTempaTrackTemp para unificar codigo
 pero eso trae aparejado hacer 2 copias de la pista durante FraccionarDur o AutoFracTodoDur en memoria 
 con RollaTrack, si este tiempo es excesivo (seria el doble..) , volveriamos a la original RollaTrack_ORIGINAL 
 LA CUAL FUE GUARDADA en el codigo aunque no se use, si se vuelve a usar verificar que este al dia y correcta...
-15-01-2022 copia de datos de control de Track ocurrencia 13, a Roll, en TrackaRoll.
-15-01-2022 copia de datos de control de Roll a Track ocurrencia 13, en RollaTrack.
-15-01-2022 se agrega una ocurrencia mas al vector Track para guardar datos de control,lim3=13
-13-01-2022 se agrega insertar en posicion una escala alternativa a la escala principal probada ok
-13-01-2022 se agrega ver escala principal de Tracks al usar TAB para conmutar de track No probado
-12-01-2022 acordes m7 automaticos no inv,1era inv,2da inv, 3er inv. probado
-12-01-2022 se agrego FactortiempoPatron solo para cambiar la velocidad de ejecucion no se graba en archivo.
-11-01-2022 se ajusto la independencia de la escala de la secuencia y las auxiliares ,se graban y recuperan
-09-01-2022 undo para entrada de melodia en Edit 5000 notas de undo. El vector se inicializa al 
pasar de un track a otro en cancion, y al grabar un archivo. O sea mientras no se grabe o pulse TAB
se podrá ahcer undo de melodia, nada mas por ahora. ALT-U undo melodia
-09-01-2022 undo para el ultimo acorde automatico Alt-U (ALT-U tambien borra melodia de a una posicion
 por lo tanto se va borrando la melodia y el ultimo acorde)

-09-01-2022 al entrar un acorde automatico se toca para escucharlo, la posicion no se mueve.
-09-01-2022 Fix error cargar archivo y luego una cancion, ahroa funciona. dio error alguna vez
            en monitoreo.(*)
-08-01-2022 ERROR aleatorio,pasó 1 vesz,-> al grabar luego de dar NUEVO y cargar notas, el play no funciona porque 
            se va a Maxpos  si pulsamos inicio se va al inicio pero al tocar vuelve a maxpos y no ejecuta nada, 
            revisar Nuevo..
 se cambio comando NUEVO a Ctrl-click con un and veremos...en monitoreo (*)
-08-01-2022 triadas automaticas disminuidas con y sin inverion 1 y 2
-08-01-2022 grabamos y recuperamos tempo en los archivos
- tiempoPatron a entero no tiene porque ser double, se graba en archivo
- Se agrego formar acordes aun sin nota en el lugar elegido, se deb eentrar al duracion
- Triadas desde Tonica completo Mayor Menor Disminuido formacion y play 
- fix consumo cpu S5=2 y fueradefoco=0 eliminado
- Funciona Acorde en Tonica triaca,,Ctrl+clik derecho luego seguir con mayor hasta no inversion
- SE ELIMINO DE 'Q' la configuracion de tamaños, proporciones y font
- se agrego nverEscalasAuxiliares y nanchofig a RollMusic.ini
- se agrego en Ver, si se ven o no las Escalas Auxiliares en el grafico
- paso previo para armar acordes: necesitamos poder INGRESAR CAMBIOS DE ESCALA  y guardarlos en la secuencia
 pero al tocar se saltean como si no existieran,,,al retroceder o avanzar en la secuencia se debe ir actualizando
 la escala en uso, esto permite al ingresar un acorder construirlo en base a la escala usada en ese tramo.
- YA cierra todas las sesiones de rollmusic desde control
- futuro grabar mxold y algo mas para conservar el tamaño de la ventana y el tamaño del font
  usado por el usuario !!!! OK Y AANDA
 (el borrado de columna esta defectuoso hay que dar 0 y luego 12 x en toda la octava para
 que borre mejor usaremos marcas de zona para borrar.)
-fix dejo de andar marcado de zonas porque habia un exit do en Comedit=False con mousex>50
 se movio zonas dentro de mousex> 50 y luefo Comedit=false volvio a funcionar
- uso ctrl+click para ingresar notas nuevas en Edit, sino al pasar a Ctrl-M u otras acciones
  entraba notas no deseadas..
-  rooloop 2673 menu contextual acordes desarrollo 06-12-2021
-  correccion Clcik end EDIT 06-12-2021 s3=0 movido a y > 50 
-  correccion de abrir nota si menor=mayor no hace nada, al levantar click rompia todo
-  v23 fraccionar automaticamente en comEdit cursor al poner notas menores o 
  mayores en duracion a otra nota en acorde existente, tambien armar acordes desde una nota
  existente como tonica mayores menores etc,,buscar al tonica si consideramos es una 3era
  o una 5ta..
-  V22 agregamso menu contextual en lectura con click derecho para acordes falta desarrollar
-  v22  SetStateMenu(hmessages,1102,3) o  SetStateMenu(hmessages,1103,0) check items menu
-  V22 abrir nota se ajuto final dejaba una columna vacia
-  V21 SE AJSUTO MOVER LA VENTANA DRAGANDO LA CINTA SUPERIOR FUNCIONA MEJOR
-  V21 TREADdETACH DE tHEREADlOOP Y THREAD1 PLAY CLOSE PORTS ETC EN EL CIERRE DE CONTROL 
- V21 ESTRUCTURO ACORDESONIGUALES Y COLOCO ALLOF EN VARIAS PARTES,Q,FIN PLAY, P.
-  V19 TOCA BASTANTE BIEN ACORDES IGUALES CON SILENCIOS EN SU FORMACION
  Y CALCOMPAS AHROA INCLUYE SILENCIOS 
-  v14 ...AOI-NUEVO PERFECTO TODOS LOS ACORDES IGUALES EN ACORDES TODAS LAS POSICIONES DBEN ESAR LLENAS
  CON NOTAS CON SONIDO O SIN SONIDO PERO TODOS CON LA MISMA CANTIDAD DE NOTAS POR AHORA UNAS PODRAN SONAR
  OTRAS NO SEGUIR CON MAS PREUBAS...ANDA OK CON LOS POCOS CASOS QUE TENGO...
-  V10 FRACCIONADOR divido la nota seleccionada en n partes 
-  v8 fix nucle dur=0 nota=181 sino el borrado de notas anda mal
  toda celda debe tener 0,181 nada de 181,181...eso se cambio
-  V7 CRASH DE SPACE EN PLAY, Y VER ACORDES DISTINTOS SI SE PUEDE CAMBIAR UNA NOTA LARGA
  EN 2 CORTAS AUTOAMTICAMENTE PARA PONER EN ACORDE OTRAS 2 MAS CHICAS EL:
  P    ==> L+I* || DISCERNIR (1) |P|     DE (2)| P   |
  L+I      L+I                   |L| I         | L I |
  EL ULTIMO CASO (2) NO SE PUEDE EN ROLL , EL (1) SI
  O SEA QUE EL PROGRAMA AUTOMATICAMNETE PARTA UNA NOTA LARGA COMO P I O ETC
  FRENTE A OTRAS EN ACORDE MAS CHICAS Y UNIDAS O NO...
-  V5 CORREGIDO, V6 CORREGIDO OTRAS COSAS,,QUEDA CRASH DE PLAY CON SPACE...
-  08-11 V5 anda mejor qu ela V4 solo que la ligadura I+I+I la toca como I+I
-  LE FALTA UNA NEGRA DE DURACION, EL RESTO LO TOCA BIEN!!!
-  SIN TOCAR CASI NADA SOLO ELIMINAR EL ANALISIS DE LIGA EN PLAYALL
  SEGUIR CORREGIR CON EL USO DE LSO CAMPOS NUEVOS Y AL TERMINAR 
  ELIMINAR LOS CAMPOS DE VEC QUE NO SE USEN

-VERSION DE PRUENA 0.4.0.0.0 32-08-21 INTEGRAMOS UNA GUI Y UNA GRAFICA COMPILAMOS CON 
fbc64  -s gui rollMusicControl.bas RollMusic.bas -x RollMusic.exe.
El archivo de proyecto no esta compilando bien estos 2 modulos, mejor compilar a mano, 
se intentará corregir las opciones del proyecto.
Se elige octavas y instrumento desde la GUI , creamos un track nuevo en desarrollo.
Se habia creado una verison con multiples instancias pero para controlarlas se necesita
usar Sockets o Mq o midi, se inentará mas adelante la VERSION 3 tal vez..., se intentó 
usar mkfifo un IPC entre procesos, funciona bien sin loops, pero en un loop se complica 
demasiado funciona aleatroiamiente solo el 5% de los casos y con fallas.

-Version prepracion ROLLMUSIC-0.3.0.0.0-U-TRACKS 14-08-2021
Introduccion de RollMusicControl.exe Bosquejo desde donde se podra controlar las diferentes 
instancias de RollMusic, en Nuevo Track se puede elegir el rango desde hasta de octavas para 
el editor y luego con Crear Track se abriar una instancia nueva de RollMusic. 
Una sola instancia de RollMusic podrá tener varios tracks, con el mismo MidiOut y MidiIn 
pero para editar al mismo tiempo se usarán varias instancias.
El directorio RollMusic , contiene el proyecto del editor FbEdit para editar y compilar
El directorio midilib contiene la libreria libmidilib.a estatica compilada con Gcc Msys2 
que se testeara si funciona bien las llamadas luego de armar el Wrapper desde C.
Version ROLLMUSIC-0.0.9.9.1-VECTOR-COMPRIMIDO mas estrucurada usa Threads.

